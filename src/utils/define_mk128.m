function[mic] = define_mk128()
%DEFINE_Mk128 creates a structure representing MK128 microphone
%
%[mic] = define_mk128()
%
%mic has the following fields:
%              order: order
%              a: radius of sphere in metres
%  sensor_angles: [128 x 2] matrix specifying angle of each transducer in
%                 Daniel's [azimuth, inclination] coordinates system
%        sphType: 'rigid' or 'open'
%         config: 'mk128' (fixed)
%
%requires: sphDist from SPHERICAL_TOOLBOX
%

mic.ShOrder = 10;
mic.radius = 0.042;
mic.config = 'mk128';
mic.sensor_positions = [[ 0.0069,   -0.0008,    0.0352]; [ 0.0164,   -0.0065,    0.0310]; [ 0.0177,   -0.0172,    0.0260]; [ 0.0117,   -0.0266,    0.0210];
 [ 0.0015,   -0.0317,    0.0163]; [-0.0098,   -0.0324,    0.0118]; [-0.0207,   -0.0282,    0.0075]; [-0.0292,   -0.0204,    0.0034];
 [-0.0343,   -0.0100,   -0.0009]; [-0.0354,    0.0015,   -0.0050]; [-0.0322,    0.0126,   -0.0093]; [-0.0250,    0.0216,   -0.0136];
 [-0.0149,    0.0270,   -0.0182]; [-0.0037,    0.0273,   -0.0229]; [ 0.0057,    0.0214,   -0.0280]; [ 0.0075,    0.0090,   -0.0338];
 [ 0.0054,    0.0043,    0.0352]; [ 0.0162,    0.0070,    0.0310]; [ 0.0247,    0.0004,    0.0260]; [ 0.0270,   -0.0105,    0.0210];
 [ 0.0235,   -0.0213,    0.0163]; [ 0.0159,   -0.0299,    0.0118]; [ 0.0054,   -0.0346,    0.0075]; [-0.0062,   -0.0350,    0.0034];
 [-0.0172,   -0.0314,   -0.0009]; [-0.0261,   -0.0240,   -0.0050]; [-0.0317,   -0.0138,   -0.0093]; [-0.0329,   -0.0024,   -0.0136];
 [-0.0296,    0.0085,   -0.0182]; [-0.0219,    0.0167,   -0.0229]; [-0.0111,    0.0192,   -0.0280]; [-0.0011,    0.0117,   -0.0338];
 [ 0.0008,    0.0069,    0.0352]; [ 0.0065,    0.0164,    0.0310]; [ 0.0172,    0.0177,    0.0260]; [ 0.0266,    0.0117,    0.0210];
 [ 0.0317,    0.0015,    0.0163]; [ 0.0324,   -0.0098,    0.0118]; [ 0.0282,   -0.0207,    0.0075]; [ 0.0204,   -0.0292,    0.0034];
 [ 0.0100,   -0.0343,   -0.0009]; [-0.0015,   -0.0354,   -0.0050]; [-0.0126,   -0.0322,   -0.0093]; [-0.0216,   -0.0250,   -0.0136];
 [-0.0270,   -0.0149,   -0.0182]; [-0.0273,   -0.0037,   -0.0229]; [-0.0214,    0.0057,   -0.0280]; [-0.0090,    0.0075,   -0.0338];
 [-0.0043,    0.0054,    0.0352]; [-0.0070,    0.0162,    0.0310]; [-0.0004,    0.0247,    0.0260]; [ 0.0105,    0.0270,    0.0210];
 [ 0.0213,    0.0235,    0.0163]; [ 0.0299,    0.0159,    0.0118]; [ 0.0346,    0.0054,    0.0075]; [ 0.0350,   -0.0062,    0.0034];
 [ 0.0314,   -0.0172,   -0.0009]; [ 0.0240,   -0.0261,   -0.0050]; [ 0.0138,   -0.0317,   -0.0093]; [ 0.0024,   -0.0329,   -0.0136];
 [-0.0085,   -0.0296,   -0.0182]; [-0.0167,   -0.0219,   -0.0229]; [-0.0192,   -0.0111,   -0.0280]; [-0.0117,   -0.0011,   -0.0338];
 [-0.0069,    0.0008,    0.0352]; [-0.0164,    0.0065,    0.0310]; [-0.0177,    0.0172,    0.0260]; [-0.0117,    0.0266,    0.0210];
 [-0.0015,    0.0317,    0.0163]; [ 0.0098,    0.0324,    0.0118]; [ 0.0207,    0.0282,    0.0075]; [ 0.0292,    0.0204,    0.0034];
 [ 0.0343,    0.0100,   -0.0009]; [ 0.0354,   -0.0015,   -0.0050]; [ 0.0322,   -0.0126,   -0.0093]; [ 0.0250,   -0.0216,   -0.0136];
 [ 0.0149,   -0.0270,   -0.0182]; [ 0.0037,   -0.0273,   -0.0229]; [-0.0057,   -0.0214,   -0.0280]; [-0.0075,   -0.0090,   -0.0338];
 [-0.0054,   -0.0043,    0.0352]; [-0.0162,   -0.0070,    0.0310]; [-0.0247,   -0.0004,    0.0260]; [-0.0270,    0.0105,    0.0210];
 [-0.0235,    0.0213,    0.0163]; [-0.0159,    0.0299,    0.0118]; [-0.0054,    0.0346,    0.0075]; [ 0.0062,    0.0350,    0.0034];
 [ 0.0172,    0.0314,   -0.0009]; [ 0.0261,    0.0240,   -0.0050]; [ 0.0317,    0.0138,   -0.0093]; [ 0.0329,    0.0024,   -0.0136];
 [ 0.0296,   -0.0085,   -0.0182]; [ 0.0219,   -0.0167,   -0.0229]; [ 0.0111,   -0.0192,   -0.0280]; [ 0.0011,   -0.0117,   -0.0338];
 [-0.0008,   -0.0069,    0.0352]; [-0.0065,   -0.0164,    0.0310]; [-0.0172,   -0.0177,    0.0260]; [-0.0266,   -0.0117,    0.0210];
 [-0.0317,   -0.0015,    0.0163]; [-0.0324,    0.0098,    0.0118]; [-0.0282,    0.0207,    0.0075]; [-0.0204,    0.0292,    0.0034];
 [-0.0100,    0.0343,   -0.0009]; [ 0.0015,    0.0354,   -0.0050]; [ 0.0126,    0.0322,   -0.0093]; [ 0.0216,    0.0250,   -0.0136];
 [ 0.0270,    0.0149,   -0.0182]; [ 0.0273,    0.0037,   -0.0229]; [ 0.0214,   -0.0057,   -0.0280]; [ 0.0090,   -0.0075,   -0.0338];
 [ 0.0043,   -0.0054,    0.0352]; [ 0.0070,   -0.0162,    0.0310]; [ 0.0004,   -0.0247,    0.0260]; [-0.0105,   -0.0270,    0.0210];
 [-0.0213,   -0.0235,    0.0163]; [-0.0299,   -0.0159,    0.0118]; [-0.0346,   -0.0054,    0.0075]; [-0.0350,    0.0062,    0.0034];
 [-0.0314,    0.0172,   -0.0009]; [-0.0240,    0.0261,   -0.0050]; [-0.0138,    0.0317,   -0.0093]; [-0.0024,    0.0329,   -0.0136];
 [ 0.0085,    0.0296,   -0.0182]; [ 0.0167,    0.0219,   -0.0229]; [ 0.0192,    0.0111,   -0.0280]; [ 0.0117,    0.0011,   -0.0338]];
%%
[mic.sensor_angle(:,1),mic.sensor_angle(:,2)] = mycart2sph(mic.sensor_positions(:,1),mic.sensor_positions(:,2),mic.sensor_positions(:,3));
mic.sphType = 'rigid';